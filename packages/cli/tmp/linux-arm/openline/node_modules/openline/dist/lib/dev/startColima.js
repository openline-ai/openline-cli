"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.startColima = void 0;
const tslib_1 = require("tslib");
const shell = tslib_1.__importStar(require("shelljs"));
const error = tslib_1.__importStar(require("./errors"));
const checks = tslib_1.__importStar(require("../checks/openline"));
const dev_1 = require("../../config/dev");
function startColima(verbose) {
    let config = (0, dev_1.getConfig)();
    let result = false;
    let isRunning = checks.runningCheck();
    if (!isRunning) {
        let cpu = config.server.cpu;
        let memory = config.server.memory;
        let disk = config.server.disk;
        let start = shell.exec(`colima start --with-kubernetes --cpu ${cpu} --memory ${memory} --disk ${disk}`, { silent: !verbose });
        if (start.code != 0) {
            error.logError(start.stderr, 'Try running => openline dev stop');
        }
        else {
            result = true;
        }
    }
    else {
        result = true;
    }
    return result;
}
exports.startColima = startColima;
